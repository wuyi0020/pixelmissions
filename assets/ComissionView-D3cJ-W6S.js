import{_,m as p,a as D,r as c,o,c as a,b as s,y as e,e as g,f as l,w as h,F as d,u as f,d as C}from"./index-CxeuVUMS.js";import{U as u}from"./UserState-BM-AoerK.js";import{A as b}from"./ArtComponent-C8pknvan.js";import"./axios-Bo0ATomq.js";const v=["userName","userEmail","userID","userHasLogIn","AdminToken","Alldata"],w=["checkUserLogin","UserLogout","getAlldata","PushUrl"],y={data(){return{authorID:"",authorData:{},authorComission:[],ThisComissionData:[],userData:{}}},components:{ArtComponent:b},methods:{...p(u,w),async GetAuthorData(){await this.getAlldata(),this.$route.params.id===this.userID&&this.$router.push(`/usercomission/${this.userID}`),this.$route.params.id===void 0&&this.$router.push("/"),this.ThisComissionData={...this.Alldata[this.$route.params.id]},this.ThisComissionData===void 0&&this.$router.push("/"),this.ThisComissionData.category!=="報價"&&this.$router.replace(`/usercomission/${this.userID}`),this.authorID=this.ThisComissionData.author,this.authorData=this.Alldata[this.authorID],this.authorComission=Object.values(this.Alldata).filter(i=>i.category==="報價"&&i.author===this.authorID)}},async mounted(){await this.checkUserLogin(),this.userHasLogIn&&await this.GetAuthorData()},computed:{...D(u,v)}},T=s("div",{class:"container-fluid"},[s("div",{class:"row bg-dark-subtle topband",id:"topband"})],-1),A={class:"container mb-5"},k={class:"row pt-0"},x={class:"col-12 d-flex align-items-center"},I={class:"me-2 headeimg",style:{height:"100px",width:"100px"}},U=["src"],L={class:"d-flex align-items-center"},V={class:""},B={key:0,class:"text text-secondary mx-2"},N={class:"container"},E={class:"row"},S={class:"col-12 p-5 bg bg-dark-subtle rounded-5"},F={class:"row g-5"},G={class:"col-md-4"},H=["src"],O={class:"col-md-8 d-flex flex-column"},P={class:"card-body"},j={class:"card-title"},W={class:"mb-0"},$={class:""},q={class:"mb-5"},z=s("button",{type:"button",class:"btn btn-primary w-100 btn-lg rounded-pill"}," 進行委託 ",-1),J=s("button",{type:"button",class:"btn btn-primary w-100 btn-lg rounded-pill"}," 修改方案 ",-1),K=s("div",{class:"row"},[s("div",{class:"col-12"},[s("h1",{class:"pt-3"},"其他方案"),s("hr")])],-1),M={class:"row row-cols-2 row-cols-md-3 g-0 g-md-2 gx-lg-4"};function Q(i,R,X,Y,t,Z){const r=c("router-link"),m=c("ArtComponent");return o(),a(d,null,[T,s("div",A,[s("div",k,[s("div",x,[s("div",I,[s("img",{src:t.authorData.imageUrl,class:"rounded-circle img-container",alt:"作者"},null,8,U)]),s("div",L,[s("h3",V,e(t.authorData.title),1),i.userID===t.ThisComissionData.author?(o(),a("div",B," (自我檢視) ")):g("",!0)])])])]),s("div",N,[s("div",E,[s("div",S,[s("div",F,[s("div",G,[s("img",{src:t.ThisComissionData.imageUrl,class:"img-fluid rounded-start-0 ratio-1x1 mh-100",alt:"方案"},null,8,H)]),s("div",O,[s("div",P,[s("h1",j,e(t.ThisComissionData.title),1),s("p",W,e(t.ThisComissionData.description),1),s("p",$,e(t.ThisComissionData.content),1)]),s("div",q,[s("span",null,e(t.ThisComissionData.price)+" TWD",1)]),i.userID!==t.ThisComissionData.author?(o(),l(r,{key:0,to:{name:"createOrder",params:{id:t.ThisComissionData.id}},class:""},{default:h(()=>[z]),_:1},8,["to"])):(o(),l(r,{key:1,to:{name:"EditArtView",params:{id:t.ThisComissionData.id}},class:""},{default:h(()=>[J]),_:1},8,["to"]))])])]),K,s("div",M,[(o(!0),a(d,null,f(t.authorComission,n=>(o(),a("div",{key:n.id},[C(m,{item:n,showPrice:!0},null,8,["item"])]))),128))])])])],64)}const es=_(y,[["render",Q]]);export{es as default};
