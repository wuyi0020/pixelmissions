import{_ as k,L,m as x,a as P,r as c,o as i,c as n,d as l,b as t,w as h,F as d,u as _,x as u,y as f}from"./index-Bk2W6sNu.js";import{U as v}from"./UserState-D7ke27qt.js";import{A as D}from"./ArtComponent-BbCT88VT.js";import"./axios-Bo0ATomq.js";const A=["userName","userEmail","userID","userHasLogIn","AdminToken","Alldata"],C=["checkUserLogin","getAlldata","PushUrl"],y={data(){return{authorID:"",authorData:{},FollowList:[],userData:{},pages:{min:0,eachOfPage:15,current:0,total:0,currentPage:1,hasNext:!1,totalPage:0}}},components:{ArtComponent:D,Loading:L},methods:{...x(v,C),async GetAuthorData(o=0){await this.getAlldata(),this.authorID=this.$route.params.userid,this.authorData=this.Alldata[this.authorID],this.authorData.followList.forEach(p=>{this.FollowList.push(this.Alldata[p])}),this.pages.current=o,this.pages.currentPage=o+1,this.pages.total=this.FollowList.length,this.pages.totalPage=Math.ceil(this.pages.total/this.pages.eachOfPage),this.pages.hasNext=this.pages.currentPage<this.pages.totalPage;const a=this.pages.current*this.pages.eachOfPage,g=a+this.pages.eachOfPage;this.FollowList=this.FollowList.slice(a,g)}},async mounted(){await this.checkUserLogin(),this.userHasLogIn&&await this.GetAuthorData()},computed:{...P(v,A),isLoading:{get(){return!this.Alldata}}}},U=t("div",{class:"container-fluid"},[t("div",{class:"row bg-dark-subtle topband bg-5dot",id:"topband"})],-1),F={class:"container"},I={class:"row pt-3"},N={class:"col-12 d-flex align-items-center"},O=t("i",{class:"bi bi-caret-left-fill h1 text-white-50"},null,-1),B={class:"me-2",style:{width:"60px",height:"60px"}},E=["src"],S={class:"m-0 p-0 h3"},V={class:"container"},j={class:"row"},G=t("div",{class:"col-12"},[t("div",{class:"h3 pt-3"},"追隨的作者")],-1),H={class:"row row-cols-2 row-cols-md-3 row-cols-xxl-5 g-0 g-md-2 gx-lg-4"},R={class:"d-flex justify-content-center"},z={class:"pagination"},M=t("span",{"aria-hidden":"true"},"«",-1),T=[M],q=["onClick"],J=t("span",{"aria-hidden":"true"},"»",-1),K=[J];function Q(o,a,g,p,e,m){const w=c("loading"),r=c("RouterLink"),b=c("ArtComponent");return i(),n(d,null,[l(w,{active:m.isLoading,"onUpdate:active":a[0]||(a[0]=s=>m.isLoading=s),"can-cancel":!0,"on-cancel":o.onCancel,"is-full-page":o.fullPage},null,8,["active","on-cancel","is-full-page"]),U,t("div",F,[t("div",I,[t("div",N,[l(r,{to:{name:"UserCenter",params:{id:e.authorID}}},{default:h(()=>[O]),_:1},8,["to"]),l(r,{to:{name:"UserCenter",params:{id:e.authorID}}},{default:h(()=>[t("div",B,[t("img",{src:e.authorData.imageUrl,class:"rounded-circle object-fit-cover w-100 h-100",alt:"作者"},null,8,E)])]),_:1},8,["to"]),l(r,{to:{name:"UserCenter",params:{id:e.authorID}},class:"text text-white link-underline link-underline-opacity-0"},{default:h(()=>[t("div",S,f(e.authorData.title),1)]),_:1},8,["to"])])])]),t("div",V,[t("div",j,[G,t("div",H,[(i(!0),n(d,null,_(e.FollowList,s=>(i(),n("div",{key:s.id},[l(b,{item:s},null,8,["item"])]))),128))])])]),t("div",R,[t("nav",null,[t("ul",z,[t("li",{class:u(["page-item",{disabled:!e.pages.current}])},[t("button",{type:"button",class:"page-link",onClick:a[1]||(a[1]=s=>o.nextPage(e.pages.current-1)),"aria-label":"Previous"},T)],2),(i(!0),n(d,null,_(e.pages.totalPage,s=>(i(),n("li",{class:u(["page-item",{active:s===e.pages.currentPage}]),key:s},[t("button",{class:"page-link",onClick:W=>o.nextPage(s-1),type:"button"},f(s),9,q)],2))),128)),t("li",{class:u(["page-item",{disabled:!e.pages.hasNext}])},[t("button",{class:"page-link",onClick:a[2]||(a[2]=s=>o.nextPage(e.pages.current+1)),"aria-label":"Next",type:"button"},K)],2)])])])],64)}const tt=k(y,[["render",Q]]);export{tt as default};
