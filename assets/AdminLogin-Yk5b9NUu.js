import{a as u}from"./axios-Bo0ATomq.js";import{_ as c,o as m,c as p,b as s,l as _,k as l,v as d}from"./index-Dp3lQOpW.js";var f={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"wuyi0020",VITE_ADMIN_USERNAME:"wuyi0020@gmail.com",VITE_ADMIN_PASSWORD:"wuyi0020",BASE_URL:"/pixelmissions/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:h}=f,w={data(){return{apiUrl:`${h}`,user:{username:"",password:""}}},methods:{login(){const n=`${this.apiUrl}/admin/signin`;u.post(n,this.user).then(o=>{console.log("燈入成功",o.data);const{token:r,expired:a}=o.data;document.cookie=`DashbordAdminToken=${r};expires=${new Date(a)}; path=/`,this.$router.push("/admin/product")}).catch(o=>{console.log("登入失敗"+o.data.message)})}},mounted(){document.cookie.replace(/(?:(?:^|.*;\s*)DashbordAdminToken\s*=\s*([^;]*).*$)|^.*$/,"$1")&&this.$router.push("/admin/product")}},v=s("h2",null,"登入頁面",-1),b={class:"container"},g={class:"row justify-content-center"},E={class:"col-8"},k={class:"form-floating mb-3"},x=s("label",{for:"username"},"Email address",-1),A={class:"form-floating"},D=s("label",{for:"password"},"Password",-1),T=s("br",null,null,-1),V=s("p",{class:"mt-5 mb-3 text-muted"},"© 2024~∞ - 六角學院",-1);function y(n,o,r,a,t,i){return m(),p("div",null,[v,s("div",b,[s("div",g,[s("div",E,[s("form",{id:"form",class:"form-signin",onSubmit:o[3]||(o[3]=_((...e)=>i.login&&i.login(...e),["prevent"]))},[s("div",k,[l(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=e=>t.user.username=e)},null,512),[[d,t.user.username]]),x]),s("div",A,[l(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=e=>t.user.password=e)},null,512),[[d,t.user.password]]),D]),T,s("button",{type:"button",class:"btn btn-lg btn-primary w-100 mt-3",onClick:o[2]||(o[2]=e=>i.login())}," 登入 ")],32)])]),V])])}const R=c(w,[["render",y]]);export{R as default};
