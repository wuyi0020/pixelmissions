import{A as m}from"./ArtComponent-BbCT88VT.js";import{_,m as P,a as f,r as x,o as n,c as o,b as t,F as u,u as g,x as c,d as A,y as b}from"./index-Bk2W6sNu.js";import{U as p}from"./UserState-D7ke27qt.js";import"./axios-Bo0ATomq.js";const k=["Alldata"],v=["getAlldata","checkUserhasArt"],y={name:"AllAuthorView",components:{ArtComponent:m},data(){return{authors:[],pages:{min:0,eachOfPage:12,current:0,total:0,currentPage:1,hasNext:!1,totalPage:0}}},methods:{...P(p,v),async nextPage(r=0){await this.getAlldata(),this.authors=Object.values(this.Alldata).filter(i=>i.category==="使用者"&&i.ArtQuantity>0),this.pages.current=r,this.pages.currentPage=r+1,this.pages.total=Object.values(this.authors).length,this.pages.totalPage=Math.ceil(this.pages.total/this.pages.eachOfPage),this.pages.hasNext=this.pages.currentPage<this.pages.totalPage;const s=this.pages.current*this.pages.eachOfPage+this.pages.min,h=s+this.pages.eachOfPage;this.authors=this.authors.slice(s,h)}},computed:{...f(p,k)},mounted(){this.nextPage(),this.checkUserhasArt()}},C={class:"container mt-5"},w=t("h1",null,"瀏覽作者",-1),N=t("hr",null,null,-1),O={class:"row row-cols-2 row-cols-md-3 row-cols-xl-5 g-0 g-lg-4"},U=t("hr",null,null,-1),V={class:"d-flex justify-content-center"},j={class:"pagination"},B=t("span",{"aria-hidden":"true"},"«",-1),S=[B],F=["onClick"],z=t("span",{"aria-hidden":"true"},"»",-1),D=[z];function E(r,s,h,i,a,l){const d=x("ArtComponent");return n(),o("div",C,[w,N,t("div",O,[(n(!0),o(u,null,g(a.authors,e=>(n(),o("div",{key:e.id},[A(d,{item:e,showUpload:!0},null,8,["item"])]))),128))]),U,t("div",V,[t("nav",null,[t("ul",j,[t("li",{class:c(["page-item",{disabled:!a.pages.current}])},[t("button",{class:"page-link",onClick:s[0]||(s[0]=e=>l.nextPage(a.pages.current-1)),"aria-label":"Previous",type:"button"},S)],2),(n(!0),o(u,null,g(a.pages.totalPage,e=>(n(),o("li",{class:c(["page-item",{active:e===a.pages.currentPage}]),key:e},[t("button",{type:"button",class:"page-link",onClick:L=>l.nextPage(e-1)},b(e),9,F)],2))),128)),t("li",{class:c(["page-item",{disabled:!a.pages.hasNext}])},[t("button",{type:"button",class:"page-link",onClick:s[1]||(s[1]=e=>l.nextPage(a.pages.current+1)),"aria-label":"Next"},D)],2)])])])])}const H=_(y,[["render",E]]);export{H as default};
