import{_ as f,L as C,m as v,a as b,r as c,o as i,c as r,d as l,b as s,i as e,e as w,f as h,w as u,F as m,z as T}from"./index-CtjQsqo1.js";import{U as _}from"./UserState-DclHd5ck.js";import{A as k}from"./ArtComponent-D1qgRpEo.js";import"./axios-Bo0ATomq.js";const y=["userName","userEmail","userID","userHasLogIn","AdminToken","Alldata"],A=["checkUserLogin","UserLogout","getAlldata","PushUrl"],L={data(){return{authorID:"",authorData:{},authorComission:[],ThisComissionData:[],userData:{},isLoading:!0}},components:{ArtComponent:k,Loading:C},methods:{...v(_,A),async GetAuthorData(){await this.getAlldata(),this.$route.params.id===this.userID&&this.$router.push(`/usercomission/${this.userID}`),this.$route.params.id===void 0&&this.$router.push("/"),this.ThisComissionData={...this.Alldata[this.$route.params.id]},this.ThisComissionData===void 0&&this.$router.push("/"),this.ThisComissionData.category!=="報價"&&this.$router.replace(`/usercomission/${this.ThisComissionData.id}`),this.authorID=this.ThisComissionData.author,this.authorData=this.Alldata[this.authorID],this.authorComission=Object.values(this.Alldata).filter(o=>o.category==="報價"&&o.author===this.authorID)},loadDone(){this.isLoading=!1}},async mounted(){await this.checkUserLogin(),this.userHasLogIn&&await this.GetAuthorData()},computed:{...b(_,y)}},x=s("div",{class:"container-fluid"},[s("div",{class:"row bg-dark-subtle topband",id:"topband"})],-1),I={class:"container mb-5"},U={class:"row pt-0"},V={class:"col-12 d-flex align-items-center"},B={class:"me-2 mt-3 position-relative d-flex"},N=s("i",{class:"bi bi-caret-left-fill fs-1 text-white-50"},null,-1),E=["src"],P={class:"d-flex mt-2 align-items-center position-relative"},S={class:"h3 m-0"},F={key:0,class:"text text-secondary align-self-end m-0 mx-2"},G={class:"container"},H={class:"row"},O={class:"col-12 p-5 bg bg-dark-subtle rounded-5"},j={class:"row g-5"},z={class:"col-md-4"},W=["src"],q={class:"col-md-8 d-flex flex-column"},J={class:"card-body"},K={class:"card-title mb-3"},M={class:"mb-0"},Q={class:""},R={class:"mb-5 fs-2"},X=s("button",{type:"button",class:"btn btn-primary w-100 btn-lg rounded-pill"}," 進行委託 ",-1),Y=s("button",{type:"button",class:"btn btn-primary w-100 btn-lg rounded-pill"}," 修改方案 ",-1),Z=s("div",{class:"row"},[s("div",{class:"col-12"},[s("h3",{class:"pt-3"},"其他方案"),s("hr")])],-1),$={class:"row row-cols-2 row-cols-md-3 g-0 g-md-2 gx-lg-4"};function ss(o,d,ts,os,t,p){const g=c("loading"),a=c("router-link"),D=c("ArtComponent");return i(),r(m,null,[l(g,{active:t.isLoading,"onUpdate:active":d[0]||(d[0]=n=>t.isLoading=n),"can-cancel":!0,"on-cancel":o.onCancel,"is-full-page":o.fullPage},null,8,["active","on-cancel","is-full-page"]),x,s("div",I,[s("div",U,[s("div",V,[s("div",B,[N,s("img",{src:t.authorData.imageUrl,class:"rounded-circle img-container m-0 p-0",alt:"作者",style:{height:"60px",width:"60px"}},null,8,E),l(a,{to:{name:"UserCenter",params:{userid:`${t.ThisComissionData.author}`}},class:"stretched-link"},null,8,["to"])]),s("div",P,[s("p",S,e(t.authorData.title),1),o.userID===t.ThisComissionData.author?(i(),r("div",F," (自我檢視) ")):w("",!0),l(a,{to:{name:"UserCenter",params:{userid:`${t.ThisComissionData.author}`}},class:"stretched-link"},null,8,["to"])])])])]),s("div",G,[s("div",H,[s("div",O,[s("div",j,[s("div",z,[s("img",{src:t.ThisComissionData.imageUrl,class:"img-fluid rounded-start-0 ratio-1x1 mh-100",alt:"方案"},null,8,W)]),s("div",q,[s("div",J,[s("h1",K,e(t.ThisComissionData.title),1),s("p",M,e(t.ThisComissionData.description),1),s("p",Q,e(t.ThisComissionData.content),1)]),s("div",R,[s("span",null,e(t.ThisComissionData.price)+" TWD",1)]),o.userID!==t.ThisComissionData.author?(i(),h(a,{key:0,to:{name:"createOrder",params:{id:t.ThisComissionData.id}},class:""},{default:u(()=>[X]),_:1},8,["to"])):(i(),h(a,{key:1,to:{name:"EditArtView",params:{id:t.ThisComissionData.id}},class:""},{default:u(()=>[Y]),_:1},8,["to"]))])])]),Z,s("div",$,[(i(!0),r(m,null,T(t.authorComission,n=>(i(),r("div",{key:n.id},[l(D,{item:n,showPrice:!0,onLoadDone:p.loadDone},null,8,["item","onLoadDone"])]))),128))])])])],64)}const rs=f(L,[["render",ss]]);export{rs as default};
