import{_ as b,L,m as x,a as D,r as c,o as i,c as n,d as l,b as t,w as h,y as d,F as u,u as f,x as p}from"./index-Bk2W6sNu.js";import{U as v}from"./UserState-D7ke27qt.js";import{A as P}from"./ArtComponent-BbCT88VT.js";import"./axios-Bo0ATomq.js";const A=["userName","userEmail","userID","userHasLogIn","AdminToken","Alldata"],C=["checkUserLogin","getAlldata","PushUrl"],y={data(){return{authorID:"",authorData:{},FollowList:[],userData:{},pages:{min:0,eachOfPage:15,current:0,total:0,currentPage:1,hasNext:!1,totalPage:0}}},components:{ArtComponent:P,Loading:L},methods:{...x(v,C),async GetAuthorData(o=0){await this.getAlldata(),this.authorID=this.$route.params.userid,this.authorData=this.Alldata[this.authorID],this.authorData.likeList.forEach(_=>{this.FollowList.push(this.Alldata[_])}),this.pages.current=o,this.pages.currentPage=o+1,this.pages.total=this.FollowList.length,this.pages.totalPage=Math.ceil(this.pages.total/this.pages.eachOfPage),this.pages.hasNext=this.pages.currentPage<this.pages.totalPage;const a=this.pages.current*this.pages.eachOfPage,g=a+this.pages.eachOfPage;this.FollowList=this.FollowList.slice(a,g)}},async mounted(){await this.checkUserLogin(),this.userHasLogIn&&await this.GetAuthorData()},computed:{...D(v,A),isLoading:{get(){return!this.Alldata}}}},U=t("div",{class:"container-fluid"},[t("div",{class:"row bg-dark-subtle topband bg-5dot",id:"topband"})],-1),F={class:"container"},I={class:"row pt-0"},N={class:"col-12 d-flex align-items-center"},O=t("i",{class:"bi bi-caret-left-fill h1 text-white-50"},null,-1),B={class:"me-2",style:{width:"60px",height:"60px"}},E=["src"],S={class:"m-0 p-0 h3"},V={class:"row pt-3"},j={class:"col-12 px-5"},G={class:"container"},H={class:"row"},R=t("div",{class:"col-12"},[t("div",{class:"h3 pt-3"},"收藏的作品")],-1),z={class:"row row-cols-2 row-cols-md-3 row-cols-xxl-5 g-0 g-md-2 gx-lg-4"},M={class:"d-flex justify-content-center"},T={class:"pagination"},q=t("span",{"aria-hidden":"true"},"«",-1),J=[q],K=["onClick"],Q=t("span",{"aria-hidden":"true"},"»",-1),W=[Q];function X(o,a,g,_,s,m){const w=c("loading"),r=c("RouterLink"),k=c("ArtComponent");return i(),n(u,null,[l(w,{active:m.isLoading,"onUpdate:active":a[0]||(a[0]=e=>m.isLoading=e),"can-cancel":!0,"on-cancel":o.onCancel,"is-full-page":o.fullPage},null,8,["active","on-cancel","is-full-page"]),U,t("div",F,[t("div",I,[t("div",N,[l(r,{to:{name:"UserCenter",params:{id:s.authorID}}},{default:h(()=>[O]),_:1},8,["to"]),l(r,{to:{name:"UserCenter",params:{id:s.authorID}}},{default:h(()=>[t("div",B,[t("img",{src:s.authorData.imageUrl,class:"rounded-circle object-fit-cover w-100 h-100",alt:"作者"},null,8,E)])]),_:1},8,["to"]),l(r,{to:{name:"UserCenter",params:{id:s.authorID}},class:"text text-white link-underline link-underline-opacity-0"},{default:h(()=>[t("div",S,d(s.authorData.title),1)]),_:1},8,["to"])]),t("div",V,[t("div",j,[t("p",null,d(s.authorData.description),1)])])])]),t("div",G,[t("div",H,[R,t("div",z,[(i(!0),n(u,null,f(s.FollowList,e=>(i(),n("div",{key:e.id},[l(k,{item:e,showAuthor:!0},null,8,["item"])]))),128))])])]),t("div",M,[t("nav",null,[t("ul",T,[t("li",{class:p(["page-item",{disabled:!s.pages.current}])},[t("button",{type:"button",class:"page-link",onClick:a[1]||(a[1]=e=>o.nextPage(s.pages.current-1)),"aria-label":"Previous"},J)],2),(i(!0),n(u,null,f(s.pages.totalPage,e=>(i(),n("li",{class:p(["page-item",{active:e===s.pages.currentPage}]),key:e},[t("button",{class:"page-link",onClick:Y=>o.nextPage(e-1),type:"button"},d(e),9,K)],2))),128)),t("li",{class:p(["page-item",{disabled:!s.pages.hasNext}])},[t("button",{class:"page-link",onClick:a[2]||(a[2]=e=>o.nextPage(s.pages.current+1)),"aria-label":"Next",type:"button"},W)],2)])])])],64)}const et=b(y,[["render",X]]);export{et as default};
