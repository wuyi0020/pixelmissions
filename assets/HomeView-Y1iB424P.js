import{a as n}from"./axios-Bo0ATomq.js";import{_,m as f,a as A,r as x,o as a,c,b as s,F as l,h,i as m,d as u}from"./index-CnB8nTM4.js";import{U as p}from"./UserState-BoEKTuGp.js";import{A as b}from"./ArtComponent-j1k5Y0pd.js";const w="/undefined/resources/vadim-bogulov-cZveUvrezvY-unsplash.jpg",y="/undefined/resources/transistor-physician-giving-a-prescription-and-pill.png",k="/undefined/resources/transistor-boy-and-girl-drawing-at-the-childrens-table.png",T="/undefined/resources/transistor-autumn-walk.png";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"wuyi0020",VITE_ADMIN_USERNAME:"wuyi0020@gmail.com",VITE_ADMIN_PASSWORD:"wuyi0020",BASE_URL:"/undefined/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:g,VITE_API_PATH:v}=E,j=["PushUrl","setAdminToken","checkUserLogin","checkUserhasArt"],D={components:{ArtComponent:b},data(){return{products:[],authors:[],page:{},AuthorPage:{}}},methods:{...f(p,j),getData(o=1){const e=`${g}/api/${v}/products?category=作品&page=${o}`;console.log(e),n.get(e).then(t=>{this.products=t.data.products,this.page=t.data.pagination}).catch(t=>{console.log(t.response.data.message)})},async getAuthorData(o=1){await this.setAdminToken(),await this.checkUserhasArt();const e=`${g}/api/${v}/admin/products?category=使用者&page=${o}`;console.log(this.AdminToken),n.defaults.headers.common.Authorization=this.AdminToken,n.get(e).then(t=>{this.authors=t.data.products,this.AuthorPage=t.data.pagination}).then(()=>{Object.values(this.authors).length<5&&this.AuthorPage.has_next?(this.getAuthorData(o+1),console.log("has next")):console.log("no next")}).catch(t=>{console.log(t.response.data.message)}),this.authors=Object.values(this.authors).filter(t=>(console.log(t),t.ArtQuantity>0))}},mounted(){this.getData(),this.getAuthorData()},computed:{...A(p,["userHasLogIn","AdminToken"])}},I={class:"home"},P=m('<div class="container-fluid bg bg-light bg-opacity-75 bg-5dot"><div class="row vh-50 align-content-center"><div class="col-12"><div class="container"><div class="row"><div class="col-8"><h2 class="fs-1 pt-5">累積粉絲 尋找合作機會？</h2><h2 class="fs-1 pb-5">使用 Pixel Missions 滿足這一切</h2></div><div class="col-4 overflow-hidden" style="max-height:400px;"><img src="'+w+'" class="img-fluid object-fit-cover" style="object-position:0%, 50%;"></div></div></div></div></div></div>',1),U={class:"container py-5"},V=s("div",{class:"row"},[s("div",{class:"col-12"},[s("h1",null,"推薦作品")])],-1),S={class:"row row-cols-2 row-cols-md-3 row-cols-xl-5 g-0 g-md-2 gx-lg-4"},$=m('<div class="container-fluid bg bg-dark-subtle"><div class="row min-vh-50 align-content-center"><div class="col-12 py-4"><div class="container"><div class="row"><div class="col-12 col-md-4 text-center"><div><img src="'+y+'" height="400px" class="object-fit-cover object-position-50 aspect-ratio-1x1"></div><h1>找不到人合作?</h1><h3>成千上萬的人在這裡分享作品，尋找合作機會</h3></div><div class="col-12 col-md-4 text-center"><div><img src="'+k+'" height="400px" class="object-fit-scale object-position-50 aspect-ratio-1x1"></div><h1>想累積粉絲?</h1><h3>將你的作品分享出來，這裡有無數志同道合的朋友</h3></div><div class="col-12 col-md-4 text-center"><div><img src="'+T+'" class="object-fit-cover object-position-50 aspect-ratio-1x1" height="400px"></div><h1>約稿沒保障?</h1><h3> 這裡有合理的交易流程，由我們把關每筆交易，讓我們成為你的傘 </h3></div></div></div></div></div></div>',1),R={class:"container py-5"},L=s("div",{class:"row"},[s("div",{class:"col-12"},[s("h1",null,"推薦作著")])],-1),N={class:"row row-cols-2 row-cols-md-3 row-cols-xl-5 g-0 g-md-2 gx-lg-4"};function M(o,e,t,O,r,B){const d=x("ArtComponent");return a(),c("div",I,[P,s("div",U,[V,s("div",S,[(a(!0),c(l,null,h(r.products,i=>(a(),c("div",{key:i.id,class:"rounded-bottom col ratio-1x1"},[u(d,{item:i,showAuthor:!0},null,8,["item"])]))),128))])]),$,s("div",R,[L,s("div",N,[(a(!0),c(l,null,h(r.authors,i=>(a(),c("div",{key:i.id,class:"rounded-bottom col ratio-1x1"},[u(d,{item:i},null,8,["item"])]))),128))])])])}const Q=_(D,[["render",M]]);export{Q as default};
