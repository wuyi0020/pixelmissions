import{a as u}from"./axios-Bo0ATomq.js";import{_ as c,o as m,c as p,b as o,l as _,k as l,v as d}from"./index-CnB8nTM4.js";var f={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"wuyi0020",VITE_ADMIN_USERNAME:"wuyi0020@gmail.com",VITE_ADMIN_PASSWORD:"wuyi0020",BASE_URL:"/undefined/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:h}=f,w={data(){return{apiUrl:`${h}`,user:{username:"",password:""}}},methods:{login(){const n=`${this.apiUrl}/admin/signin`;u.post(n,this.user).then(s=>{console.log("燈入成功",s.data);const{token:i,expired:a}=s.data;document.cookie=`DashbordAdminToken=${i};expires=${new Date(a)}; path=/`,this.$router.push("/admin/product")}).catch(s=>{console.log("登入失敗"+s.data.message)})}},mounted(){document.cookie.replace(/(?:(?:^|.*;\s*)DashbordAdminToken\s*=\s*([^;]*).*$)|^.*$/,"$1")&&this.$router.push("/admin/product")}},v=o("h2",null,"登入頁面",-1),b={class:"container"},g={class:"row justify-content-center"},E={class:"col-8"},k={class:"form-floating mb-3"},x=o("label",{for:"username"},"Email address",-1),A={class:"form-floating"},D=o("label",{for:"password"},"Password",-1),T=o("br",null,null,-1),V=o("p",{class:"mt-5 mb-3 text-muted"},"© 2024~∞ - 六角學院",-1);function y(n,s,i,a,t,r){return m(),p("div",null,[v,o("div",b,[o("div",g,[o("div",E,[o("form",{id:"form",class:"form-signin",onSubmit:s[3]||(s[3]=_((...e)=>r.login&&r.login(...e),["prevent"]))},[o("div",k,[l(o("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":s[0]||(s[0]=e=>t.user.username=e)},null,512),[[d,t.user.username]]),x]),o("div",A,[l(o("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":s[1]||(s[1]=e=>t.user.password=e)},null,512),[[d,t.user.password]]),D]),T,o("button",{type:"button",class:"btn btn-lg btn-primary w-100 mt-3",onClick:s[2]||(s[2]=e=>r.login())}," 登入 ")],32)])]),V])])}const R=c(w,[["render",y]]);export{R as default};
