import{a as n}from"./axios-Bo0ATomq.js";import{_,m as A,a as w,r as x,o as a,c,b as t,F as d,h,i as g,d as p}from"./index-Cvp7A9jP.js";import{U as u}from"./UserState-CsnPMdK6.js";import{A as b}from"./ArtComponent-BajMXyOI.js";const f="/pixelmissions/resources/vadim-bogulov-cZveUvrezvY-unsplash.jpg",k="/pixelmissions/resources/transistor-physician-giving-a-prescription-and-pill.png",y="/pixelmissions/resources/transistor-boy-and-girl-drawing-at-the-childrens-table.png",T="/pixelmissions/resources/transistor-autumn-walk.png";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"wuyi0020",VITE_ADMIN_USERNAME:"wuyi0020@gmail.com",VITE_ADMIN_PASSWORD:"wuyi0020",BASE_URL:"/pixelmissions/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:m,VITE_API_PATH:v}=E,j=["PushUrl","setAdminToken","checkUserLogin","checkUserhasArt"],D={components:{ArtComponent:b},data(){return{products:[],authors:[],page:{},AuthorPage:{}}},methods:{...A(u,j),getData(o=1){const e=`${m}/api/${v}/products?category=作品&page=${o}`;console.log(e),n.get(e).then(s=>{this.products=s.data.products,this.page=s.data.pagination}).catch(s=>{console.log(s.response.data.message)})},async getAuthorData(o=1){await this.setAdminToken(),await this.checkUserhasArt();const e=`${m}/api/${v}/admin/products?category=使用者&page=${o}`;console.log(this.AdminToken),n.defaults.headers.common.Authorization=this.AdminToken,n.get(e).then(s=>{this.authors=s.data.products,this.AuthorPage=s.data.pagination}).then(()=>{Object.values(this.authors).length<5&&this.AuthorPage.has_next?(this.getAuthorData(o+1),console.log("has next")):console.log("no next")}).catch(s=>{console.log(s.response.data.message)}),this.authors=Object.values(this.authors).filter(s=>(console.log(s),s.ArtQuantity>0))}},mounted(){this.getData(),this.getAuthorData()},computed:{...w(u,["userHasLogIn","AdminToken"])}},I={class:"home"},P=g('<div class="container-fluid bg bg-light bg-opacity-75 bg-5dot"><div class="row vh-50 align-content-center m-0"><div class="col-12"><div class="container"><div class="row align-items-center"><div class="col-8"><h2 class="fs-3 pt-5 text-break mw-100"> 累積粉絲 尋找合作機會？ </h2><h2 class="fs-3 pb-5 text-break mw-100"> 使用 Pixel Missions 滿足這一切 </h2></div><div class="col-4 overflow-hidden"><img src="'+f+'" class="img-container object-fit-cover" style="object-position:0%, 50%;"></div></div></div></div></div></div>',1),U={class:"container py-5"},V=t("div",{class:"row"},[t("div",{class:"col-12"},[t("h1",null,"推薦作品")])],-1),S={class:"row row-cols-2 row-cols-md-3 row-cols-xl-5 g-0 g-md-2 gx-lg-4"},$=g('<div class="container-fluid bg bg-dark-subtle"><div class="row min-vh-50 align-content-center"><div class="col-12 py-4"><div class="container"><div class="row"><div class="col-12 col-md-4 text-center"><div><img src="'+k+'" class="object-fit-cover object-position-50 aspect-ratio-1x1 w-100"></div><h1>找不到人合作?</h1><h3>成千上萬的人在這裡分享作品，尋找合作機會</h3></div><div class="col-12 col-md-4 text-center"><div><img src="'+y+'" class="object-fit-scale object-position-50 aspect-ratio-1x1 w-100"></div><h1>想累積粉絲?</h1><h3>將你的作品分享出來，這裡有無數志同道合的朋友</h3></div><div class="col-12 col-md-4 text-center"><div><img src="'+T+'" class="object-fit-cover object-position-50 aspect-ratio-1x1 w-100"></div><h1>約稿沒保障?</h1><h3> 這裡有合理的交易流程，由我們把關每筆交易，讓我們成為你的傘 </h3></div></div></div></div></div></div>',1),R={class:"container py-5"},L=t("div",{class:"row"},[t("div",{class:"col-12"},[t("h1",null,"推薦作著")])],-1),N={class:"row row-cols-2 row-cols-md-3 row-cols-xl-5 g-0 g-md-2 gx-lg-4"};function M(o,e,s,O,r,B){const l=x("ArtComponent");return a(),c("div",I,[P,t("div",U,[V,t("div",S,[(a(!0),c(d,null,h(r.products,i=>(a(),c("div",{key:i.id,class:"rounded-bottom col ratio-1x1"},[p(l,{item:i,showAuthor:!0},null,8,["item"])]))),128))])]),$,t("div",R,[L,t("div",N,[(a(!0),c(d,null,h(r.authors,i=>(a(),c("div",{key:i.id,class:"rounded-bottom col ratio-1x1"},[p(l,{item:i},null,8,["item"])]))),128))])])])}const Q=_(D,[["render",M]]);export{Q as default};
