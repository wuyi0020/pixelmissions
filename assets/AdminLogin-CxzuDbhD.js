import{a as c}from"./axios-Bo0ATomq.js";import{_ as m,z as l,o as p,c as _,b as s,C as f,A as d,B as u}from"./index-Bk2W6sNu.js";var h={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_API_PATH:"wuyi0020",VITE_ADMIN_USERNAME:"wuyi0020@gmail.com",VITE_ADMIN_PASSWORD:"wuyi0020",BASE_URL:"/pixelmissions/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:w}=h,b={data(){return{apiUrl:`${w}`,user:{username:"",password:""}}},methods:{login(){const n=`${this.apiUrl}/admin/signin`;c.post(n,this.user).then(o=>{l.success("燈入成功");const{token:i,expired:a}=o.data;document.cookie=`DashbordAdminToken=${i};expires=${new Date(a)}; path=/`,this.$router.push("/admin/product")}).catch(()=>{l.error("登入失敗")})}},mounted(){document.cookie.replace(/(?:(?:^|.*;\s*)DashbordAdminToken\s*=\s*([^;]*).*$)|^.*$/,"$1")&&this.$router.push("/admin/product")}},v=s("h2",null,"登入頁面",-1),E={class:"container"},g={class:"row justify-content-center"},x={class:"col-8"},A={class:"form-floating mb-3"},k=s("label",{for:"username"},"Email address",-1),D={class:"form-floating"},T=s("label",{for:"password"},"Password",-1),V=s("br",null,null,-1),y=s("p",{class:"mt-5 mb-3 text-muted"},"© 2024~∞ - 六角學院",-1);function I(n,o,i,a,t,r){return p(),_("div",null,[v,s("div",E,[s("div",g,[s("div",x,[s("form",{id:"form",class:"form-signin",onSubmit:o[3]||(o[3]=f((...e)=>r.login&&r.login(...e),["prevent"]))},[s("div",A,[d(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=e=>t.user.username=e)},null,512),[[u,t.user.username]]),k]),s("div",D,[d(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=e=>t.user.password=e)},null,512),[[u,t.user.password]]),T]),V,s("button",{type:"button",class:"btn btn-lg btn-primary w-100 mt-3",onClick:o[2]||(o[2]=e=>r.login())}," 登入 ")],32)])]),y])])}const S=m(b,[["render",I]]);export{S as default};
