import{_ as D,L as x,m as b,a as k,r as d,o as i,c as n,d as l,b as t,w as h,F as u,z as m,B as g,i as f}from"./index-CtjQsqo1.js";import{U as v}from"./UserState-DclHd5ck.js";import{A as P}from"./ArtComponent-D1qgRpEo.js";import"./axios-Bo0ATomq.js";const A=["userName","userEmail","userID","userHasLogIn","AdminToken","Alldata"],C=["checkUserLogin","getAlldata","PushUrl"],U={data(){return{authorID:"",authorData:{},FollowList:[],userData:{},pages:{min:0,eachOfPage:15,current:0,total:0,currentPage:1,hasNext:!1,totalPage:0},isLoading:!0}},components:{ArtComponent:P,Loading:x},methods:{...b(v,C),async GetAuthorData(o=0){await this.getAlldata(),this.authorID=this.$route.params.userid,this.authorData=this.Alldata[this.authorID],this.authorData.followList.forEach(_=>{this.FollowList.push(this.Alldata[_])}),this.pages.current=o,this.pages.currentPage=o+1,this.pages.total=this.FollowList.length,this.pages.totalPage=Math.ceil(this.pages.total/this.pages.eachOfPage),this.pages.hasNext=this.pages.currentPage<this.pages.totalPage;const a=this.pages.current*this.pages.eachOfPage,p=a+this.pages.eachOfPage;this.FollowList=this.FollowList.slice(a,p)},loadDone(){this.isLoading=!1},nextPage(o){this.isLoading=!0,this.GetAuthorData(o)}},async mounted(){await this.checkUserLogin(),this.userHasLogIn&&await this.GetAuthorData()},computed:{...k(v,A)}},y=t("div",{class:"container-fluid"},[t("div",{class:"row bg-dark-subtle topband bg-5dot",id:"topband"})],-1),F={class:"container"},I={class:"row pt-3"},N={class:"col-12 d-flex align-items-center"},B=t("i",{class:"bi bi-caret-left-fill h1 text-white-50"},null,-1),O={class:"me-2",style:{width:"60px",height:"60px"}},E=["src"],G={class:"m-0 p-0 h3"},S={class:"container pt-5"},V={class:"row"},j=t("div",{class:"col-12"},[t("div",{class:"h3 pt-3"},"追隨的作者")],-1),z={class:"col-12"},H={class:"row row-cols-2 row-cols-md-3 row-cols-xxl-5 g-0 g-md-2 gx-lg-4"},R=t("div",{class:"container"},[t("div",{class:""})],-1),M={class:"d-flex justify-content-center"},T={class:"pagination m-0 mt-4"},q=t("span",{"aria-hidden":"true"},"«",-1),J=[q],K=["onClick"],Q=t("span",{"aria-hidden":"true"},"»",-1),W=[Q];function X(o,a,p,_,e,r){const w=d("loading"),c=d("RouterLink"),L=d("ArtComponent");return i(),n(u,null,[l(w,{active:e.isLoading,"onUpdate:active":a[0]||(a[0]=s=>e.isLoading=s),"can-cancel":!0,"on-cancel":o.onCancel,"is-full-page":o.fullPage},null,8,["active","on-cancel","is-full-page"]),y,t("div",F,[t("div",I,[t("div",N,[l(c,{to:{name:"UserCenter",params:{id:e.authorID}}},{default:h(()=>[B]),_:1},8,["to"]),l(c,{to:{name:"UserCenter",params:{id:e.authorID}}},{default:h(()=>[t("div",O,[t("img",{src:e.authorData.imageUrl,class:"rounded-circle object-fit-cover w-100 h-100",alt:"作者"},null,8,E)])]),_:1},8,["to"]),l(c,{to:{name:"UserCenter",params:{id:e.authorID}},class:"text text-white link-underline link-underline-opacity-0"},{default:h(()=>[t("div",G,f(e.authorData.title),1)]),_:1},8,["to"])])])]),t("div",S,[t("div",V,[j,t("div",z,[t("div",H,[(i(!0),n(u,null,m(e.FollowList,s=>(i(),n("div",{key:s.id},[l(L,{item:s,onLoadDone:r.loadDone},null,8,["item","onLoadDone"])]))),128))])])])]),R,t("div",M,[t("nav",null,[t("ul",T,[t("li",{class:g(["page-item",{disabled:!e.pages.current}])},[t("button",{type:"button",class:"page-link",onClick:a[1]||(a[1]=s=>r.nextPage(e.pages.current-1)),"aria-label":"Previous"},J)],2),(i(!0),n(u,null,m(e.pages.totalPage,s=>(i(),n("li",{class:g(["page-item",{active:s===e.pages.currentPage}]),key:s},[t("button",{class:"page-link",onClick:Y=>r.nextPage(s-1),type:"button"},f(s),9,K)],2))),128)),t("li",{class:g(["page-item",{disabled:!e.pages.hasNext}])},[t("button",{class:"page-link",onClick:a[2]||(a[2]=s=>r.nextPage(e.pages.current+1)),"aria-label":"Next",type:"button"},W)],2)])])])],64)}const st=D(U,[["render",X]]);export{st as default};
